<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
       "http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>OpenAPI REST Protocol Specification [draft] - OpenAPI REST &#21327;&#35758;&#30333;&#30382;&#20070;&#65288;&#33609;&#26696;&#65289;</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="perl.css">

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008008 at Tue Feb  5 08:16:39 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#DESIGN_GOALS'>DESIGN GOALS</a>
    <li class='indexItem indexItem2'><a href='#DESIGN_BACKGROUND'>DESIGN BACKGROUND</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#PROTOCOL_BASIS'>PROTOCOL BASIS</a>
  <li class='indexItem indexItem1'><a href='#HTTP_METHODS'>HTTP METHODS</a>
  <li class='indexItem indexItem1'><a href='#URL_SYNTAX'>URL SYNTAX</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#The_leading_%2F%3D%2F'>The leading /=/</a>
    <li class='indexItem indexItem2'><a href='#Help'>Help</a>
    <li class='indexItem indexItem2'><a href='#Login'>Login</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#(35282)(33394)(30331)(24405)'>&#35282;&#33394;&#30331;&#24405;</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Models'>Models</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Create_Models'>Create Models</a>
      <li class='indexItem indexItem3'><a href='#Alter_Models'>Alter Models</a>
      <li class='indexItem indexItem3'><a href='#Read_Models'>Read Models</a>
      <li class='indexItem indexItem3'><a href='#Delete_Models'>Delete Models</a>
      <li class='indexItem indexItem3'><a href='#Read_records'>Read records</a>
      <li class='indexItem indexItem3'><a href='#Manipulate_Records'>Manipulate Records</a>
      <li class='indexItem indexItem3'><a href='#Namespace_and_Databases'>Namespace and Databases</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Actions'>Actions</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Create_Actions'>Create Actions</a>
      <li class='indexItem indexItem3'><a href='#Inspect_Actions'>Inspect Actions</a>
      <li class='indexItem indexItem3'><a href='#Call_Actions'>Call Actions</a>
      <li class='indexItem indexItem3'><a href='#Remove_Actions'>Remove Actions</a>
      <li class='indexItem indexItem3'><a href='#Built-in_Actions'>Built-in Actions</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Views'>Views</a>
    <li class='indexItem indexItem2'><a href='#Roles'>Roles</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#(33719)(21462)(35282)(33394)(21015)(34920)'>&#33719;&#21462;&#35282;&#33394;&#21015;&#34920;</a>
      <li class='indexItem indexItem3'><a href='#(33719)(21462)(35282)(33394)(20449)(24687)'>&#33719;&#21462;&#35282;&#33394;&#20449;&#24687;</a>
      <li class='indexItem indexItem3'><a href='#(35835)(21462)(26435)(38480)(35268)(21017)'>&#35835;&#21462;&#26435;&#38480;&#35268;&#21017;</a>
      <li class='indexItem indexItem3'><a href='#(28155)(21152)(26435)(38480)(35268)(21017)'>&#28155;&#21152;&#26435;&#38480;&#35268;&#21017;</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Administration'>Administration</a>
    <li class='indexItem indexItem2'><a href='#URL_Parameters'>URL Parameters</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#DATA_FORMAT'>DATA FORMAT</a>
  <li class='indexItem indexItem1'><a href='#Content_type'>Content type</a>
  <li class='indexItem indexItem1'><a href='#ERROR_HANDLING'>ERROR HANDLING</a>
  <li class='indexItem indexItem1'><a href='#GRAMMAR_FOR_minisql'>GRAMMAR FOR minisql</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>OpenAPI REST Protocol Specification [draft] - OpenAPI REST &#21327;&#35758;&#30333;&#30382;&#20070;&#65288;&#33609;&#26696;&#65289;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Agent Zhang (&#31456;&#20134;&#26149;) &#60;agentzh@yahoo.cn&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<pre>    CREATED:            Nov 19, 2007
    LAST MODIFIED:      Dec 28, 2007
    VERSION:            0.16</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<pre>  Copyright (c)  2007  Yahoo! China (&#20013;&#22269;&#38597;&#34382;&#20844;&#21496;).
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.2
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts. A copy of the license can be found at

    http://www.gnu.org/licenses/fdl.html</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>&#26412;&#25991;&#23450;&#20041;&#20102; OpenAPI &#22522;&#20110; REST &#39118;&#26684;&#30340; web service API &#21327;&#35758;&#32452;&#12290;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="DESIGN_GOALS"
>DESIGN GOALS</a></h2>

<ul>
<li>&#30830;&#20445;&#23545;&#20110;&#31616;&#21333;&#30340;&#38656;&#27714;&#65292;API &#36275;&#22815;&#31616;&#21333;&#65307;&#21516;&#26102;&#21448;&#33021;&#28385;&#36275;&#24456;&#22797;&#26434;&#30340;&#39640;&#32423;&#38656;&#27714;&#12290;
<p>&#34;Make simple things easy, hard things possible&#34; -- Larry Wall</p>

<p>API &#24212;&#33021;&#26144;&#23556;&#21040;&#32477;&#22823;&#37096;&#20998;&#24120;&#35265;&#30340; SQL &#35831;&#27714;&#35821;&#21477; &#65292;&#20294;&#24212;&#33021;&#38459;&#27490; SQL injection &#30340;&#21457;&#29983;&#12290;</p>
</li>

<li>API &#24212;&#35813;&#36275;&#22815;&#30452;&#35266;&#21644;&#21451;&#22909;&#65292;&#24212;&#23613;&#37327;&#20570;&#21040; DWIM (Do What I mean).</li>

<li>&#30830;&#20445; API &#33021;&#22815;&#22312;&#32477;&#22823;&#22810;&#25968;&#25903;&#25345; HTTP 1.1 &#21644; cookie &#30340;&#29615;&#22659;&#20013;&#20351;&#29992;&#12290;&#21253;&#25324;&#20294;&#19981;&#38480;&#20110;&#32593;&#39029;&#20013;&#30340; Javascript, &#24212;&#29992;&#31243;&#24207;&#20013;&#30340; Perl, C/C++, Java, C#, VB&#65292; &#20197;&#21450;&#32431;&#21629;&#20196;&#34892;&#24037;&#20855; wget &#21644; curl &#31561;&#31561;&#12290;
<p>&#26222;&#36890;&#32593;&#39029;&#20013;&#30340; Javascript &#20195;&#30721;&#24212;&#33021;&#36890;&#36807; AJAX &#36328;&#22495;&#26041;&#24335;&#35775;&#38382; 100% &#30340; API.</p>
</li>

<li>&#26469;&#33258;&#23458;&#25143;&#30340; API &#35775;&#38382;&#35831;&#27714;&#24212;&#20445;&#25345;&#26080;&#29366;&#24577;&#12290;&#21333;&#20010;&#35831;&#27714;&#20013;&#24212;&#21253;&#21547;&#25152;&#26377;&#20449;&#24687;&#65288;&#38500;&#20102;&#29992;&#25143;&#36523;&#20998;&#35748;&#35777;&#21487;&#20197;&#23384;&#20648;&#22312; cookie &#20013;&#20379;&#21453;&#22797;&#20351;&#29992;&#20197;&#22806;&#65289;&#12290;</li>

<li>&#26469;&#33258;&#26381;&#21153;&#22120;&#30340;&#25968;&#25454;&#26684;&#24335;&#65288;XML&#65292;JSON&#65292;YAML&#65289;&#24212;&#33021;&#30001;&#23458;&#25143;&#33258;&#30001;&#25511;&#21046;&#65292;&#21516;&#26102;&#23458;&#25143;&#33021;&#25351;&#23450;&#32534;&#30721;(charset).</li>

<li>API &#22312;&#24418;&#24335;&#19978;&#24517;&#39035;&#20445;&#25345;&#32479;&#19968;&#21644;&#19968;&#33268;&#12290;&#21516;&#26102;&#21333;&#27425;&#36820;&#22238;&#30340;&#32467;&#26524;&#20013;&#24212;&#21253;&#21547;&#36275;&#22815;&#30340;&#23548;&#33322;&#20449;&#24687;&#65292;&#24110;&#21161;&#29992;&#25143;&#36827;&#34892;&#21518;&#32493;&#35831;&#27714;&#65292;&#20197;&#21462;&#24471;&#19982;&#20043;&#30456;&#20851;&#30340;&#20854;&#20182;&#25968;&#25454;&#12290;</li>

<li>&#20986;&#20110;&#23433;&#20840;&#24615;&#26041;&#38754;&#30340;&#32771;&#34385;&#65292;&#25968;&#25454;&#23384;&#20648;&#24212;&#37319;&#29992;&#31867;&#20284; wiki &#21644; Subversion &#29256;&#26412;&#25511;&#21046;&#26041;&#24335;&#65292;&#24212;&#25552;&#20379;&#25509;&#21475;&#20801;&#35768;&#29992;&#25143;&#25284;&#25764;&#38144;&#21644;&#24674;&#22797;&#20020;&#36817;&#19968;&#27573;&#26102;&#38388;&#30340;&#25805;&#20316;&#25110;&#25968;&#25454;.</li>

<li>API &#24212;&#25903;&#25345;&#33258;&#30465;&#33021;&#21147;&#12290;&#29992;&#25143;&#21487;&#20197;&#36890;&#36807; API &#33719;&#24471;&#26377;&#20851; Models, Actions, &#21644; API &#26412;&#36523;&#30340;&#24110;&#21161;&#20449;&#24687;.</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="DESIGN_BACKGROUND"
>DESIGN BACKGROUND</a></h2>

<p>&#26412; API &#30340;&#35774;&#35745;&#22522;&#20110;&#32654;&#22269; Best Practical &#20844;&#21496;&#30340; Jifty &#26694;&#26550;&#20013;&#25152;&#21253;&#21547;&#30340; REST Web Service &#25509;&#21475;&#35774;&#35745; ( <a href="http://search.cpan.org/perldoc?Jifty::Manual::TutorialRest" class="podlinkurl"
>http://search.cpan.org/perldoc?Jifty::Manual::TutorialRest</a> )&#12290;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PROTOCOL_BASIS"
>PROTOCOL BASIS</a></h1>

<p>&#25105;&#20204;&#30340; API &#23558;&#22522;&#20110;&#26368;&#22522;&#26412;&#30340; HTTP 1.1 &#21327;&#35758;&#12290;&#29305;&#21035;&#22320;&#65292;&#25105;&#20204;&#23558;&#20805;&#20998;&#21033;&#29992; HEAD, GET, POST, PUT, DELETE &#36825;&#20960;&#31181;&#22522;&#26412;&#30340; HTTP &#26041;&#27861; &#26469;&#31616;&#21270;&#25105;&#20204;&#30340; API&#12290;</p>

<p>&#22312;&#26412;&#25991;&#20013;&#65292;&#38500;&#38750;&#29305;&#21035;&#35828;&#26126;&#65292;&#23558;&#24635;&#26159;&#20551;&#35774;&#20351;&#29992; <code>http://</code> &#27169;&#24335;&#12290;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="HTTP_METHODS"
>HTTP METHODS</a></h1>

<p>&#26412;&#25509;&#21475;&#20351;&#29992;&#19979;&#21015; HTTP 1.1 &#26041;&#27861;:</p>

<dl>
<dt><a name="GET"
>GET</a></dt>

<dd>
<p>&#19968;&#33324;&#29992;&#20110;&#26597;&#35810;&#21644;&#35835;&#21462;&#25805;&#20316;&#65292;&#31867;&#20284; SQL &#35821;&#35328;&#20013;&#30340; <code>select</code> &#35821;&#21477;&#12290;</p>

<dt><a name="POST"
>POST</a></dt>

<dd>
<p>&#19968;&#33324;&#29992;&#20110;&#26032;&#24314;&#23545;&#35937;&#21644;&#25554;&#20837;&#25968;&#25454;&#65292;&#31867;&#20284; SQL &#35821;&#35328;&#20013;&#30340; <code>create</code> &#35821;&#21477;&#21644; <code>insert into</code> &#35821;&#21477;.</p>

<dt><a name="PUT"
>PUT</a></dt>

<dd>
<p>&#19968;&#33324;&#29992;&#20110;&#20462;&#25913;&#23545;&#35937;&#30340;&#23646;&#24615;&#21644;&#24050;&#26377;&#30340;&#25968;&#25454;&#35760;&#24405;&#12290;&#31867;&#20284; SQL &#35821;&#35328;&#20013;&#30340; <code>update</code> &#21644; <code>alter</code> &#35821;&#21477;.</p>

<dt><a name="DELETE"
>DELETE</a></dt>

<dd>
<p>&#19968;&#33324;&#29992;&#20110;&#21024;&#38500;&#23545;&#35937;&#21644;&#24050;&#26377;&#30340;&#25968;&#25454;&#35760;&#24405;. &#31867;&#20284; SQL &#35821;&#35328;&#20013;&#30340; <code>delete</code> &#21644; <code>drop</code> &#35821;&#21477;&#12290;</p>

<dt><a name="HEAD"
>HEAD</a></dt>

<dd>
<p>&#19982; <code>GET</code> &#30456;&#36817;&#65292;&#20294;&#23545;&#20110;&#36820;&#22238;&#21015;&#34920;&#22411;&#25968;&#25454;&#30340;&#35835;&#21462;&#25805;&#20316;&#32780;&#35328;&#65292;&#36820;&#22238;&#21015;&#34920;&#20013;&#20803;&#32032;&#30340;&#20010;&#25968;&#12290;&#31867;&#20284; SQL &#35821;&#35328;&#20013;&#30340; <code>select count(*)</code>.</p>
</dd>
</dl>

<p>&#30001;&#20110;&#19968;&#20123;&#38450;&#28779;&#22681;&#38459;&#27490; PUT &#21644; DELETE &#35831;&#27714;&#65292;&#32780;&#19988;&#23545;&#20110;&#36328;&#22495; AJAX &#35843;&#29992;&#32780;&#35328;&#65292; DELETE &#21644; PUT &#20063;&#36739;&#38590;&#23454;&#29616;&#65292;OpenAPI &#20026; PUT &#21644; DELETE &#25552;&#20379;&#20102;&#30456;&#24212;&#30340;&#21464;&#24418;&#25509;&#21475;&#12290; &#20363;&#22914;</p>

<pre>    PUT /=/model/Foo
    &#60;content&#62;</pre>

<p>&#31561;&#20215;&#20110;&#19979;&#38754;&#36825;&#20010; POST &#35831;&#27714;&#65306;</p>

<pre>    POST /=/put/model/Foo
    &#60;content&#62;</pre>

<p>&#31867;&#20284;&#22320;&#65292;&#19979;&#38754;&#36825;&#20010; DELETE &#35831;&#27714;</p>

<pre>    DELETE /=/model/~</pre>

<p>&#31561;&#20215;&#20110;&#19979;&#38754;&#36825;&#20010; GET &#35831;&#27714;&#65306;</p>

<pre>    GET /=/delete/model/~</pre>

<p>&#20026;&#26041;&#20415;&#36215;&#35265;&#65292;POST &#35831;&#27714;&#20063;&#20855;&#26377;&#23545;&#24212;&#30340; GET &#21464;&#24418;&#65306;</p>

<pre>    GET /=/post/...?data=&#60;content&#62;</pre>

<p>&#31561;&#20215;&#20110;</p>

<pre>    POST /=/...
    &#60;content&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="URL_SYNTAX"
>URL SYNTAX</a></h1>

<p>&#25152;&#26377;&#30340; URL &#37117;&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;&#12290;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_leading_/=/"
>The leading <code>/=/</code></a></h2>

<p>&#20026;&#20351;&#25105;&#20204;&#30340; API &#33021;&#22815;&#22312; URL &#19978;&#22797;&#29992;&#24050;&#26377;&#30340;&#22495;&#21517;&#65292;&#22914; <code>www.yahoo.cn</code>&#65292;&#21516;&#26102;&#36991;&#20813;&#27745;&#26579;&#24050;&#26377;&#30340; URL &#21517;&#23383;&#31354;&#38388;&#65292;&#25152;&#26377;&#30340; URL &#37117;&#20197; /=/ &#36215;&#22987;&#12290;</p>

<p>&#22914;&#26524;&#22495;&#21517;&#19981;&#23384;&#22312;&#19982;&#24120;&#35268;&#32593;&#39029; URL &#20914;&#31361;&#30340;&#39118;&#38505;&#65292;&#21069;&#23548; <code>/=/</code> &#21487;&#30465;&#30053;&#65292;&#25110;&#26367;&#25442;&#20026;&#20854;&#20182;&#24418;&#24335;&#65292;&#27604;&#22914; <code>/webservice/</code> &#25110;&#32773; <code>/~/</code> &#20043;&#31867;&#12290;</p>

<p>&#22312;&#26412;&#25991;&#20013;&#65292;&#23558;&#24635;&#26159;&#20351;&#29992; <code>/=/</code> &#21069;&#23548;&#65292;&#20197;&#24378;&#35843;&#36825;&#20123; URL &#26159;&#29305;&#27530;&#30340;&#65288;&#20174;&#26576;&#31181;&#24847;&#20041;&#19978;&#35828;&#65289;&#65292;&#24182;&#20445;&#25345;&#19968;&#33268;&#24615;&#12290;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Help"
>Help</a></h2>

<pre>    GET /=/help</pre>

<p>[&#29468;&#24819;&#65306;&#35813;&#21629;&#20196;&#21487;&#20197;&#36820;&#22238;&#19968;&#20010;&#26080;&#32467;&#26500;&#30340;&#32431;&#25991;&#26412;&#24110;&#21161;&#65292;&#25110;&#32773;&#26159;&#26377;&#32467;&#26500;&#30340;&#24110;&#21161;&#30446;&#24405;&#21015;&#34920;&#12290;]</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Login"
>Login</a></h2>

<pre>    POST /=/login</pre>

<p>&#30331;&#24405;&#39564;&#35777;&#65292;&#30446;&#21069;&#26377;&#20004;&#31181;&#36873;&#25321;&#65306;</p>

<ol>
<li>&#20351;&#29992;&#26126;&#25991;&#20256;&#36755;&#21475;&#20196;
<p>&#27492;&#31181;&#26041;&#27861;&#20351;&#29992;&#31616;&#21333;&#65292;&#23588;&#20854;&#23545;&#20110; wget, curl &#36825;&#26679;&#30340;&#24037;&#20855;&#21451;&#22909;&#12290;&#32570;&#28857;&#26159;&#23433;&#20840;&#24615;&#19981;&#39640;&#12290;</p>

<p>&#19968;&#31181;&#21487;&#33021;&#30340;&#26041;&#24335;&#26159;&#65306; GET /=/login/&#60;user_name&#62;/&#60;password&#62;</p>
</li>

<li>&#20351;&#29992;&#21152;&#23494;&#20256;&#36755;&#21475;&#20196;
<p>&#27492;&#31181;&#26041;&#27861;&#20351;&#29992;&#22797;&#26434;&#65292;&#38656;&#35201;&#25569;&#25163;&#36807;&#31243;&#65292;&#20197;&#21450;&#21152;&#23494;&#24211;&#30340;&#25903;&#25345;&#12290;</p>

<p>POST &#35831;&#27714;&#30340;&#20869;&#23481;&#38656;&#35201;&#32463;&#36807;&#21152;&#23494;&#22788;&#29702;&#12290;&#27604;&#22914;&#65306;</p>

<pre>    POST /=/login/&#60;user_name&#62;</pre>

<p><i>POST body</i></p>

<pre>    adsfkwk3223df23245rt3423dfds2d</pre>

<p>&#36825;&#37324;&#30340; <code>POST body</code> &#20013;&#23384;&#25918;&#30528;&#32463;&#36807;&#21152;&#23494;&#30340;&#23494;&#30721;.</p>

<p>XXX &#20855;&#20307;&#30340;&#21152;&#23494;&#31639;&#27861;</p>
</li>
</ol>

<p>&#30331;&#24405;&#33719;&#21462;&#30340; session ID &#23558;&#34987;&#23384;&#20648;&#20110; cookie &#20013;&#65292;&#20379;&#21518;&#32493;&#35831;&#27714;&#20351;&#29992;&#12290;</p>

<p>[&#29468;&#24819;&#65306; &#22312;&#36731;&#37327;&#32423;&#24212;&#29992;&#20013;&#20351;&#29992;&#26126;&#25991;&#65292;&#20197;&#38477;&#20302;&#25509;&#21475;&#20351;&#29992;&#38376;&#27099;&#65292;&#36866;&#24212;&#26222;&#36890;&#29992;&#25143;&#12290;&#23545;&#20110;&#25968;&#25454;&#23433;&#20840;&#24615;&#39640;&#30340;&#20225;&#19994;&#32423;&#24212;&#29992;&#65292;&#20351;&#29992;&#21152;&#23494;&#20256;&#36755;&#30340;&#26041;&#27861;&#12290;]</p>

<p>OAuth &#25903;&#25345;&#20063;&#24212;&#35748;&#30495;&#32771;&#34385;&#65306;</p>

<p><a href="http://oauth.net/" class="podlinkurl"
>http://oauth.net/</a></p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="(35282)(33394)(30331)(24405)"
>&#35282;&#33394;&#30331;&#24405;</a></h3>

<p>OpenAPI &#25903;&#25345;&#25152;&#35859;&#30340;&#8220;&#35282;&#33394;&#8221;&#27010;&#24565;&#12290;&#19968;&#20010; OpenAPI &#29992;&#25143;&#22312;&#27880;&#20876;&#26102;&#21487;&#20197;&#23450;&#20041;&#33509;&#24178;&#20010;&#8220;&#35282;&#33394;&#8221;,&#27599;&#20010;&#8220;&#35282;&#33394;&#8221;&#30340;&#26435;&#38480;&#21508;&#19981;&#30456;&#21516;&#65292;&#32780;&#37117;&#21487;&#20197;&#21333;&#29420;&#30331;&#24405;&#65292;&#24182;&#25317;&#26377;&#19981;&#21516;&#30340;&#23494;&#30721;&#12290;</p>

<p>&#20363;&#22914;&#27880;&#20876;&#29992;&#25143; marry &#21487;&#20197;&#25317;&#26377; <code>Admin</code>, <code>Reader</code>, <code>User</code> &#31561;&#22810;&#31181;&#35282;&#33394;&#65292; &#27599;&#20010;&#35282;&#33394;&#37117;&#21487;&#20197;&#21333;&#29420;&#30331;&#24405;&#12290;&#24403; marry &#30340; <code>Reader</code> &#35282;&#33394;&#30331;&#24405;&#26102;&#65292;&#20351;&#29992;&#30340;&#24080;&#25143;&#21517;&#20026; <code>marry.Reader</code>. &#20107;&#23454;&#19978;&#65292;<code>marry</code> &#22312;&#20316;&#20026;&#24080;&#25143;&#21517;&#20351;&#29992;&#26102;&#65292;&#23601;&#30456;&#24403;&#20110;&#20197; <code>marry.User</code> &#35282;&#33394;&#30331;&#24405;&#65292;&#22240;&#20026; <code>admin</code> &#35282;&#33394;&#25317;&#26377;&#26368;&#39640;&#30340;&#26435;&#38480;&#12290;</p>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    GET /=/login/marry.Reader/myPassword</pre>

<p>&#26377;&#20851;&#35282;&#33394;&#30340;&#26356;&#22810;&#20449;&#24687;&#65292;&#35831;&#21442;&#35265; <a href="#Roles" class="podlinkpod"
>&#34;Roles&#34;</a> &#19968;&#33410;&#12290;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Models"
>Models</a></h2>

<p>&#27169;&#22411;&#26159;&#19968;&#31181;&#25277;&#35937;&#30340;&#25968;&#25454;&#24211;&#34920;&#26684;&#12290;&#23427;&#21487;&#20197;&#26144;&#23556;&#21040;&#25968;&#25454;&#24211;&#30340;&#29289;&#29702;&#34920;&#65292;&#20134;&#21487;&#20197;&#26144;&#23556;&#21040;&#34394;&#25311;&#30340;&#23384;&#20648;&#32467;&#26500;&#65292;&#22914;&#26524;&#30005;&#23376;&#20449;&#31665;&#30340; inbox. &#27169;&#22411;&#25353;&#21019;&#24314;&#32773;&#65292;&#21487;&#20197;&#20998;&#20026;&#20869;&#32622;&#21644;&#29992;&#25143;&#33258;&#23450;&#20041;&#20004;&#31181;&#31867;&#22411;&#12290;&#27169;&#22411;&#25317;&#26377;&#33258;&#24049;&#32454;&#21270;&#30340;&#26435;&#38480;&#27169;&#22411;&#65292;&#22914;&#21487;&#20889;&#26435;&#38480;&#20998;&#37197;&#65292;&#20197;&#21450;&#21487;&#35835;&#26435;&#38480;&#20998;&#37197;&#12290;</p>

<p>&#25152;&#26377;&#19982; Model &#30456;&#20851;&#30340;&#25509;&#21475;&#65292;&#20854; URL &#37117;&#28385;&#36275;&#19979;&#21015;&#20960;&#31181;&#24418;&#24335;&#65306;</p>

<pre>    /=/model                                            &#25805;&#32437;&#27169;&#22411;&#21015;&#34920;
    /=/model/&#60;model_name&#62;                               &#25805;&#32437;&#25351;&#23450;&#30340;&#27169;&#22411;&#65292;&#21517;&#20026; &#60;model_name&#62;
    /=/model/&#60;model_name&#62;/&#60;column_name&#62;                 &#25805;&#32437;&#25351;&#23450;&#27169;&#22411; &#60;model_name&#62; &#30340;&#25351;&#23450;&#21015;&#60;column_name&#62;
    /=/model/&#60;model_name&#62;/&#60;column_name&#62;/&#60;column_value&#62;  &#25805;&#32437;&#25351;&#23450;&#27169;&#22411;&#60;model_name&#62;&#20013;&#30340;&#25968;&#25454;&#35760;&#24405;&#65292;
                                                        &#24182;&#30001; &#60;column_name&#62; &#21644; &#60;column_value&#62; &#26469;&#23450;&#20301;</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Create_Models"
>Create Models</a></h3>

<pre>    POST /=/model/MyNewModel</pre>

<p>&#26032;&#21019;&#24314;&#30340; Model &#30340; schema &#22312; POST &#30340; content body &#20013;&#36890;&#36807;&#23545;&#24212;&#26684;&#24335;( &#27604;&#22914; JSON )&#30340; schema &#35828;&#26126;.</p>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    POST /=/model/Bookmark</pre>

<p><i>POST body</i></p>

<pre>    {
        name: &#34;Bookmark&#34;,
        description: &#34;&#25105;&#30340;&#20070;&#31614;&#34;,
        columns:
          [
            { name: &#34;url&#34;,   type: &#34;string&#34;, label: &#34;&#20070;&#31614;&#32593;&#22336;&#34; },
            { name: &#34;title&#34;, type: &#34;string&#34;, label: &#34;&#20070;&#31614;&#26631;&#39064;&#34; },
            { name: &#34;description&#34;, type: &#34;string&#34;, label: &#34;&#20070;&#31614;&#25551;&#36848;&#34; }
          ]
    }</pre>

<p>&#19968;&#27425; POST &#35831;&#27714;&#21482;&#33021;&#25351;&#23450;&#21019;&#24314;&#21333;&#20010; Model. Model &#30340;&#22768;&#26126;&#21253;&#21547;&#20004;&#37096;&#20998;&#65292;&#19968;&#26159;&#27169;&#22411;&#21517;&#65292;&#21363; <code>name</code> &#23383;&#27573;&#65292;&#19968;&#26159;&#21015;&#22768;&#26126;&#65292;&#21363; <code>columns</code> &#23383;&#27573;&#12290;</p>

<p><code>columns</code> &#23383;&#27573;&#21487;&#20197;&#20026;&#19968;&#31354;&#25968;&#32452;&#65292;&#25110;&#32773;&#23436;&#20840;&#30465;&#30053;&#65292;&#27492;&#26102;&#27169;&#22411;&#20013;&#27809;&#26377;&#20219;&#20309;&#21487;&#29992;&#21015;&#12290;&#29992;&#25143;&#21487;&#20197;&#31245;&#21518;&#36890;&#36807; POST /=/model/&#60;model name&#62;/&#60;column name&#62; &#26469;&#28155;&#21152;&#26032;&#21015;&#12290;</p>

<p>&#24403; <code>columns</code> &#23383;&#27573;&#20026;&#31354;&#26102;&#65292;&#26381;&#21153;&#22120;&#20250;&#36820;&#22238;&#19968;&#26465;&#35686;&#21578;&#20449;&#24687;&#65292;&#20363;&#22914;&#65306;</p>

<pre>    {&#34;success&#34;:1,&#34;warning&#34;:&#34;No &#39;columns&#39; specified for model \&#34;Foo\&#34;.&#34;}</pre>

<p>&#27599;&#20010;&#27169;&#22411;&#24517;&#39035;&#25552;&#20379;&#19968;&#20010;&#38750;&#31354;&#30340; <code>description</code> &#23646;&#24615;&#65292;&#21516;&#26102;&#27169;&#22411;&#21508;&#21015;&#30340;&#23450;&#20041;&#24517;&#39035;&#21253;&#21547; <code>label</code> &#36825;&#19968;&#23646;&#24615;&#65292;&#32780;&#19988;&#24517;&#39035;&#20026;&#38750;&#31354;&#12290;</p>

<p>&#35831;&#27714;&#30340; POST &#20869;&#23481;&#20013;&#21487;&#20197;&#19981;&#25351;&#23450;&#27169;&#22411;&#30340; <code>name</code> &#23646;&#24615;&#65292;&#22240;&#20026;&#23427;&#24050;&#32463;&#20986;&#29616;&#22312;&#20102;&#35831;&#27714;&#30340; URL &#20013;&#65292;&#22914;&#36825;&#37324;&#30340; &#34;Bookmark&#34;. &#22914;&#26524;&#29992;&#25143;&#22312; JSON &#25968;&#25454;&#20013;&#20063;&#25351;&#23450;&#20102; <code>name</code>&#65292;&#21017;</p>

<p>&#27169;&#22411;&#21517;&#24517;&#39035;&#20197;&#23383;&#27597;&#24320;&#22836;&#65292;&#21518;&#36319;&#33509;&#24178;&#23383;&#27597;&#65292;&#19979;&#21010;&#32447;&#25110;&#25968;&#23383;&#12290;&#25512;&#33616;&#27169;&#22411;&#21517;&#24635;&#20197;&#22823;&#20889;&#23383;&#27597;&#24320;&#22836;&#65292;&#27604;&#22914; <code>Bookmark</code>, <code>MyMusic</code> &#31561;&#31561;&#12290;</p>

<p>&#21015;&#21517;&#24517;&#39035;&#20197;&#23383;&#27597;&#24320;&#22836;&#65292;&#21518;&#36319;&#33509;&#24178;&#23383;&#27597;&#65292;&#19979;&#21010;&#32447;&#25110;&#25968;&#23383;&#65292;&#19982;&#27169;&#22411;&#21517;&#30340;&#21629;&#21517;&#35268;&#21017;&#30456;&#20284;&#12290;&#20294;&#19981;&#21516;&#30340;&#26159;&#65292;&#25512;&#33616;&#21015;&#21517;&#24635;&#26159;&#30001;&#23567;&#20889;&#23383;&#27597;&#24320;&#22836;&#65292;&#20363;&#22914; <code>book_name</code>, <code>gender</code>, &#31561;&#31561;&#12290;</p>

<p>&#27169;&#22411;&#21517;&#21644;&#21015;&#21517;&#37117;&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;&#65292;&#25152;&#20197; <code>Bookmark</code> &#21644; <code>bookmark</code> &#34987;&#35748;&#20026;&#26159;&#20004;&#20010;&#19981;&#21516;&#30340; Model.</p>

<p>&#20219;&#20309;&#27169;&#22411;&#37117;&#23558;&#25317;&#26377;&#19968;&#20010;&#40664;&#35748;&#21015;&#65292;&#21517;&#20026; <code>id</code>&#65292;&#29992;&#20110;&#22312;&#19968;&#20010;&#27169;&#22411;&#20013;&#21807;&#19968;&#22320;&#26631;&#35782;&#26576;&#19968;&#26465;&#25968;&#25454;&#35760;&#24405;&#65288;&#25110;&#32773;&#35828;&#25968;&#25454;&#34892;&#65289;&#12290;&#33509;&#29992;&#25143;&#33258;&#24049;&#22312;&#27169;&#22411;&#20013;&#25351;&#23450;&#20102; <code>id</code> &#21015;&#65292;&#21017;&#26381;&#21153;&#22120;&#20250;&#23558;&#20043;&#24573;&#30053;&#65292;&#24182;&#23558;&#32473;&#20986;&#19968;&#26465;&#35686;&#21578;&#20449;&#24687;&#12290;&#20540;&#24471;&#19968;&#25552;&#30340;&#26159;&#65292;<code>Id</code>, <code>ID</code>, &#21644; <code>iD</code> &#20063;&#26159;&#20445;&#30041;&#30340;&#21015;&#21517;&#12290;</p>

<p>&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;URL &#21450;&#35831;&#27714;&#25968;&#25454;&#20013;&#30340;&#38750; ASCII &#23383;&#31526;&#37117;&#25353; UTF-8 &#32534;&#30721;&#22788;&#29702;&#12290;&#22914;&#33509;&#38656;&#35201;&#20351;&#29992;&#20854;&#20182;&#32534;&#30721;&#65292;&#22914; GBK, Big5, &#21644; Latin1 &#30340;&#35805;&#65292;&#38656;&#35201;&#26174;&#24335;&#22320;&#36890;&#36807; <code>charset</code> &#21442;&#25968;&#25351;&#23450;&#65292;&#20363;&#22914;&#65306;</p>

<pre>    POST /=/model/Bookmark?charset=GBK</pre>

<p>&#20219;&#20309;&#24773;&#20917;&#19979;&#65292;URL &#21644;&#35831;&#27714;&#25968;&#25454;&#20013;&#30340;&#32534;&#30721;&#24517;&#39035;&#19968;&#33268;&#65292;&#27604;&#22914;&#24517;&#39035;&#21516;&#20026; UTF-8&#65292;&#25110;&#32773;&#21516;&#20026; GBK.</p>

<p>&#20855;&#20307;&#30340;&#23454;&#29616;&#20250;&#23545;&#19968;&#20010; Model &#25152;&#21547;&#30340;&#23383;&#27573;&#25968;&#30446;&#21644;&#31867;&#22411;&#36827;&#34892;&#32422;&#26463;&#12290;</p>

<p>&#24403;&#27169;&#22411;&#24050;&#23384;&#22312;&#26102;&#65292;&#26381;&#21153;&#22120;&#36820;&#22238;&#20986;&#38169;&#20449;&#24687;&#65292;&#20363;&#22914;&#65306;</p>

<pre>    { success: 0, error:&#34;Model \&#34;Bookmark\&#34; already exists.&#34; }</pre>

<p>&#35814;&#24773;&#35831;&#35265; <a href="#ERROR_HANDLING" class="podlinkpod"
>&#34;ERROR HANDLING&#34;</a> &#19968;&#33410;&#12290;</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Alter_Models"
>Alter Models</a></h3>

<dl>
<dt><a name="Change_Model_Name"
>Change Model Name</a></dt>

<dd>
<p>&#21487;&#20197;&#36890;&#36807;&#19979;&#38754;&#30340;&#25509;&#21475;&#20462;&#25913;&#24050;&#26377;&#27169;&#22411;&#30340;&#21517;&#23383;&#65306;</p>

<pre>    PUT /=/model/&#60;old_name&#62;
    { name: &#34;&#60;new_name&#34; }</pre>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    PUT /=/model/Bookmark
    { name: &#39;MyBookmark&#39; }</pre>

<p>&#22914;&#26524;&#26032;&#30340;&#27169;&#22411;&#21517;&#19982;&#24050;&#23384;&#22312;&#30340;&#21478;&#19968;&#20010; Model &#21516;&#21517;&#65292;&#21017;&#26381;&#21153;&#22120;&#20250;&#25253;&#38169;&#65292;&#20363;&#22914;&#65306;</p>

<pre>    { success: 0, error: &#34;Model \&#34;MyBookmark\&#34; already exists.&#34; }</pre>

<dt><a name="Change_Model_Description"
>Change Model Description</a></dt>

<dd>
<p>&#21487;&#20197;&#36890;&#36807;&#19979;&#38754;&#30340;&#25509;&#21475;&#20462;&#25913;&#24050;&#26377;&#27169;&#22411;&#30340;&#25551;&#36848;&#65306;</p>

<pre>    PUT /=/model/&#60;model_name&#62;
    { descripton: &#34;&#60;new_description&#34; }</pre>

<p>&#20462;&#25913;&#27169;&#22411;&#30340;&#21517;&#23383;&#21644;&#25551;&#36848;&#21487;&#20197;&#25918;&#22312;&#21333;&#27425; HTTP &#35831;&#27714;&#20013;&#65292;&#20363;&#22914;&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#65306;</p>

<pre>    PUT /=/model/Bookmark
    { name: &#34;MyBookmark&#34;, description: &#34;&#36825;&#21487;&#26159;&#25105;&#30340;&#20070;&#31614;&#21734;&#65281;&#34; }</pre>

<dt><a name="Change_Model_Columns"
>Change Model Columns</a></dt>

<dd>
<p>&#21487;&#20197;&#36890;&#36807;&#19979;&#38754;&#30340;&#25509;&#21475;&#20462;&#25913;&#24050;&#26377;&#27169;&#22411;&#30340;&#26576;&#19968;&#21015;&#30340;&#21517;&#23383;&#65292;&#31867;&#22411;&#65292;&#25110;&#26631;&#31614;&#65306;</p>

<pre>    PUT /=/model/Bookmark/title
    { name: &#34;bookmark_name&#34;, type: &#34;varchar(20)&#34;, label: &#34;&#20070;&#31614;&#21517;&#34; }</pre>

<p>&#19968;&#27425;&#21487;&#20197;&#21482;&#20462;&#25913;&#20854;&#20013;&#30340;&#19968;&#20010;&#25110;&#32773;&#20004;&#20010;&#23646;&#24615;&#12290;&#20363;&#22914;&#65306;</p>

<pre>    PUT /=/model/Bookmark/title
    { name: &#34;bookmark_name&#34;, label: &#34;&#20070;&#31614;&#21517;&#34; }</pre>

<p>&#22914;&#26524;&#25105;&#20204;&#24182;&#19981;&#24819;&#20462;&#25913; title &#21015;&#30340;&#31867;&#22411;(type)&#30340;&#35805;&#12290;</p>

<dt><a name="Add_Model_Columns"
>Add Model Columns</a></dt>

<dd>
<p>&#21487;&#20197;&#36890;&#36807;&#19979;&#38754;&#30340;&#25509;&#21475;&#28155;&#21152;&#27169;&#22411;&#30340;&#21015;&#65306;</p>

<pre>    POST /=/model/&#60;model_name&#62;/&#60;new_column_name&#62;
    { type: &#34;&#60;type&#62;&#34;, label: &#34;&#60;label&#62;&#34; }</pre>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    POST /=/model/Bookmark/comment
    { type: &#34;text&#34;, label: &#34;&#20070;&#31614;&#35780;&#35770;&#34; }</pre>

<dt><a name="Delete_Model_Columns"
>Delete Model Columns</a></dt>

<dd>
<p>&#21487;&#20197;&#36890;&#36807;&#19979;&#38754;&#30340;&#25509;&#21475;&#21024;&#38500;&#27169;&#22411;&#30340;&#21015;&#65306;</p>

<pre>    DELETE /=/model/&#60;model_name&#62;/&#60;column_name&#62;</pre>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    DELETE /=/model/Bookmark/comment</pre>

<p>&#21024;&#38500;&#25152;&#26377;&#30340;&#21015;&#21487;&#20197;&#20351;&#29992;&#19979;&#38754;&#30340;&#21629;&#20196;&#65306;</p>

<pre>    DELETE /=/model/Bookmark/~</pre>

<p>&#20540;&#24471;&#25552;&#37266;&#30340;&#26159; <code>id</code> &#21015;&#26159;&#20445;&#30041;&#30340;&#65292;&#25925;&#23427;&#19981;&#20250;&#34987;&#21024;&#38500;&#12290;</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Read_Models"
>Read Models</a></h3>

<dl>
<dt><a name="(26174)(31034)(27169)(22411)(21015)(34920)"
>&#26174;&#31034;&#27169;&#22411;&#21015;&#34920;</a></dt>

<dd>
<pre>    GET /=/model</pre>

<p>&#36820;&#22238;&#30340;&#25968;&#25454;&#20026;&#19968;&#26080;&#24207;&#21015;&#34920;&#65292;&#20854;&#20869;&#23481;&#20026;&#29992;&#25143;&#25152;&#26377;&#21487;&#35265;&#30340;&#27169;&#22411;&#30340;&#21517;&#23383;&#65292;&#20197;&#21450;&#23545;&#24212;&#30340; URL&#12290;</p>

<p>&#19968;&#20010; JSON &#26684;&#24335;&#30340;&#20363;&#23376;&#20026;&#65306;</p>

<pre>    GET /=/model

    [
        { description: &#34;My favorite bookmark&#34;, name: &#34;Bookmark&#34;, src: &#34;/=/model/Bookmark&#34; },
        { description: &#34;My favorite music&#34;, type: &#34;model&#34;, name: &#34;Music&#34;, src: &#34;/=/model/Music&#34; },
        { description: &#34;My frequently accessed blog&#34;, name: &#34;Blog&#34;, src: &#34;/=/model/Blog&#34; },
    ]</pre>

<p>&#26377;&#20851;&#32467;&#26524;&#26684;&#24335;&#30340;&#35752;&#35770;&#65292;&#35831;&#35265; <a href="#DATA_FORMAT" class="podlinkpod"
>&#34;DATA FORMAT&#34;</a> &#19968;&#33410;.</p>

<dt><a name="(26174)(31034)(25351)(23450)(27169)(22411)(30340)_schema"
>&#26174;&#31034;&#25351;&#23450;&#27169;&#22411;&#30340; schema</a></dt>

<dd>
<p>&#20540;&#24471;&#25351;&#20986;&#30340;&#26159;&#65292;&#27169;&#22411;&#30340; schema &#24182;&#19981;&#31561;&#21516;&#20110;&#30495;&#23454;&#30340;&#25968;&#25454;&#24211;&#29289;&#29702;&#34920;&#30340; schema. &#27169;&#22411;&#26159;&#19968;&#31181;&#25277;&#35937;&#30340;&#27010;&#24565;&#12290;</p>

<p>&#22312;&#27169;&#22411;&#21517;&#30340;&#21629;&#21517;&#19978;&#65292;&#19968;&#33324;&#21462;&#20026;&#39318;&#23383;&#27597;&#22823;&#20889;&#30340;&#21517;&#35789;&#21333;&#35789;&#65292;&#22914; Bookmark, Book, Music &#31561;&#31561;&#65292; &#32780;&#19981;&#20687;&#25968;&#25454;&#24211;&#34920;&#26684;&#19968;&#33324;&#21462;&#25104; bookmarks, books, music &#36825;&#26679;&#30340;&#24418;&#24335;&#12290;</p>

<pre>    GET /=/model/&#60;model name&#62;</pre>

<p>&#35813; URL &#23558;&#36820;&#22238;&#27169;&#22411;&#21517;&#20026; &#60;model name&#62; &#30340; schema &#23450;&#20041;&#12290;</p>

<p>&#19968;&#20010; JSON &#30340;&#20363;&#23376;&#22914;&#19979;&#65306;</p>

<pre>    GET /=/model/Bookmark

    {
      name: &#34;Bookmark&#34;,
      description: &#34;My favorite bookmark&#34;,
      columns:
        [
          { name: &#34;id&#34;, type: &#34;serial&#34;, src: &#34;/=/model/Bookmark/id&#34; },
          { name: &#34;title&#34;, type: &#34;string&#34;, src: &#34;/=/model/Bookmark/string&#34; },
          { name: &#34;url&#34;, type: &#34;string&#34;, src: &#34;/=/model/Bookmark/url&#34; },
          { name: &#34;description&#34;, type: &#34;string&#34;, src: &#34;/=/model/Bookmark/description&#34; },
        ]
    }</pre>

<dt><a name="(26174)(31034)(25351)(23450)(30340)(21015)(30340)(23450)(20041)"
>&#26174;&#31034;&#25351;&#23450;&#30340;&#21015;&#30340;&#23450;&#20041;</a></dt>

<dd>
<pre>    GET /=/model/&#60;model name&#62;/&#60;column name&#62;</pre>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    GET /=/model/Bookmark/title</pre>

<p>&#36820;&#22238;</p>

<pre>    { name: &#34;title&#34;, type: &#34;string&#34;, src: &#34;/=/model/Bookmark/string&#34; },</pre>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Delete_Models"
>Delete Models</a></h3>

<dl>
<dt><a name="(21024)(38500)(25351)(23450)(30340)_Model"
>&#21024;&#38500;&#25351;&#23450;&#30340; Model</a></dt>

<dd>
<pre>    DELETE /=/model/&#60;model name&#62;</pre>

<p>&#35813;&#21629;&#20196;&#23558;&#21024;&#38500;&#21517;&#20026; &#60;model_name&#62; &#30340;&#27169;&#22411;&#12290;</p>

<p>&#22312;&#21151;&#33021;&#19978;&#30456;&#24403;&#20110;&#19979;&#38754;&#36825;&#26465; SQL &#35821;&#21477;&#65306;</p>

<pre>    drop table &#60;model name&#62;</pre>

<dt><a name="(21024)(38500)(25152)(26377)(30340)_Model"
>&#21024;&#38500;&#25152;&#26377;&#30340; Model</a></dt>

<dd>
<pre>    DELETE /=/model</pre>

<p>&#25110;&#32773;</p>

<pre>    DELETE /=/model/~</pre>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Read_records"
>Read records</a></h3>

<dl>
<dt><a name="(26174)(31034)(25351)(23450)(23383)(27573)(30340)(35760)(24405)(21015)(34920)"
>&#26174;&#31034;&#25351;&#23450;&#23383;&#27573;&#30340;&#35760;&#24405;&#21015;&#34920;</a></dt>

<dd>
<pre>    GET /=/model/&#60;model name&#62;/&#60;column name&#62;/~</pre>

<p>&#36923;&#36753;&#19978;&#30456;&#24403;&#20110;&#19979;&#38754;&#36825;&#34892; SQL &#35821;&#21477;&#65306;</p>

<pre>    select &#60;column name&#62;
    from &#60;model name&#62;</pre>

<p>&#27880;&#24847;&#27492;&#22788;&#20197;&#21450;&#19979;&#25991;&#25152;&#32473;&#20986;&#30340; SQL &#35821;&#21477;&#20063;&#24182;&#38750;&#30495;&#23454;&#30340; SQL&#65292;&#29992;&#26469;&#35299;&#37322; API URL &#30340;&#35821;&#20041;&#12290;</p>

<dt><a name="(26174)(31034)(25351)(23450)(23383)(27573)(30340)(25351)(23450)(21462)(20540)(30340)(35760)(24405)(21015)(34920)"
>&#26174;&#31034;&#25351;&#23450;&#23383;&#27573;&#30340;&#25351;&#23450;&#21462;&#20540;&#30340;&#35760;&#24405;&#21015;&#34920;</a></dt>

<dd>
<pre>    GET /=/model/&#60;model name&#62;/&#60;column name&#62;/&#60;column value&#62;</pre>

<p>&#20854;&#21151;&#33021;&#19978;&#30456;&#24403;&#20110;&#19979;&#38754;&#36825;&#26465; SQL &#35821;&#21477;&#65306;</p>

<pre>    select *
    from &#60;model name&#62;
    where &#60;column name&#62;=&#60;column value&#62;</pre>

<p>&#19968;&#20010;&#20855;&#20307;&#30340;&#20307;&#23376;&#26159;&#65306;</p>

<pre>    GET /=/model/Bookmark/id/1</pre>

<p>&#30456;&#24403;&#20110;</p>

<pre>    select *
    from Bookmark
    where id = 1</pre>

<p>&#26381;&#21153;&#22120;&#36820;&#22238;&#30340;&#32467;&#26524;&#31867;&#20284;&#20110;&#65306;</p>

<pre>    [
        { id: 1, title: &#34;Revision 34: /trunk&#34;, url: &#34;http://svn.openfoundry.com/xulapp/trunk&#34;, description: &#34;&#34; }
    ]</pre>

<p>&#22914;&#26524; <code>column value</code> &#20013;&#21547;&#26377; URL &#29305;&#27530;&#23383;&#31526;&#65292;&#20363;&#22914; <code>?</code>, <code>%</code>, <code>&#38;</code> &#20043;&#31867;&#65292; &#21017;&#24212;&#35813;&#36827;&#34892;&#36716;&#20041;&#12290;&#20363;&#22914; <code>?</code> &#20351;&#29992; <code>%2E</code> &#20195;&#26367;&#12290;</p>

<p>&#22914;&#26524;&#19981;&#24076;&#26395;&#29992; <code>=</code> &#25191;&#34892;&#31934;&#30830;&#21305;&#37197;&#30340;&#35805;&#65292;&#21487;&#20197;&#36890;&#36807;&#25351;&#23450; <code>op</code> &#36873;&#39033;&#26469;&#25351;&#23450;&#20854;&#20182;&#36816;&#31639;&#31526;&#65292;&#21253;&#25324; <code>contains</code>, <code>gt</code>, <code>ge</code>, <code>lt</code>, <code>le</code>, <code>eq</code>, &#19982; <code>ne</code>.</p>

<p>&#19979;&#38754;&#26159;&#19968;&#20010;&#20363;&#23376;&#65306;</p>

<pre>    GET /=/model/Bookmark/title/Yahoo?op=contains</pre>

<p>&#36817;&#20284;&#20110;</p>

<pre>    select *
    from Bookmark
    where title like &#39;%Yahoo%&#39;</pre>

<p>&#20856;&#22411;&#30340;&#36820;&#22238;&#32467;&#26524;&#22914;&#19979;&#65306;</p>

<pre>    [
        { id: 56, title: &#34;Yahoo News&#34;, url: &#34;http://news.yahoo.com&#34;, description: &#34;&#32654;&#22269;&#38597;&#34382;&#32593;&#31449;&#34; },
        { id: 57, title: &#34;Yahoo&#20013;&#22269;&#34;, url: &#34;http://cn.yahoo.com&#34;, description: &#34;&#38463;&#37324;&#24052;&#24052;&#20013;&#22269;&#38597;&#34382;&#39318;&#39029;&#34; }
    ]</pre>

<dt><a name="(26174)(31034)(21508)(21015)(20013)(20986)(29616)(26576)(20010)(20540)(30340)(35760)(24405)"
>&#26174;&#31034;&#21508;&#21015;&#20013;&#20986;&#29616;&#26576;&#20010;&#20540;&#30340;&#35760;&#24405;</a></dt>

<dd>
<pre>    GET /=/model/&#60;model name&#62;/~/&#60;column value&#62;</pre>

<p>&#36825;&#37324;&#30340;&#26143;&#21495; <code>~</code> &#26159;&#8220;&#36890;&#37197;&#31526;&#8221;(wildcard).</p>

<p>&#35813;&#26597;&#35810;&#30456;&#24403;&#20110;&#19979;&#38754;&#30340; SQL &#35821;&#21477;&#65306;</p>

<pre>    select *
    from &#60;model name&#62;
    where &#60;column 1&#62; = &#60;column value&#62; or &#60;column 2&#62; = &#60;column value&#62; or ...</pre>

<dt><a name="(26174)(31034)(25152)(26377)(35760)(24405)"
>&#26174;&#31034;&#25152;&#26377;&#35760;&#24405;</a></dt>

<dd>
<pre>    GET /=/model/&#60;model name&#62;/~/~</pre>

<p>&#20540;&#24471;&#19968;&#25552;&#30340;&#26159;&#65292;&#26597;&#35810; <code> GET /=/model/&#60;model name</code>/&#60;column name&#62;/~ &#62; &#30340;&#25928;&#26524; &#20063;&#26159;&#26174;&#31034;&#25152;&#26377;&#35760;&#24405;&#12290;</p>

<dt><a name="(25193)(23637)(26597)(35810)(35821)(27861)"
>&#25193;&#23637;&#26597;&#35810;&#35821;&#27861;</a></dt>

<dd>
<p>&#36890;&#36807;&#25351;&#23450; extended=1 &#36873;&#39033;&#65292;&#21487;&#20197;&#21551;&#29992;&#25193;&#23637;&#26597;&#35810;&#35821;&#27861;&#12290;&#19979;&#38754;&#26159;&#20960;&#20010;&#20363;&#23376;&#65306;</p>

<pre>    GET /=/model/Bookmark/id/1,3,52..72?extended=1</pre>

<p>&#30456;&#24403;&#20110;&#19979;&#38754;&#36825;&#21477; SQL &#26597;&#35810;&#65306;</p>

<pre>    select *
    from Bookmark
    where id = 1 or id = 3 or id between 52 and 72</pre>

<p>&#21448;&#22914;&#65306;</p>

<pre>    GET /=/model/Timetable/arrival_time/18:32..20:59,5:07..8:40?extended=1</pre>

<p>&#30456;&#24403;&#20110;&#19979;&#38754;&#36825;&#21477; SQL &#26597;&#35810;&#65306;</p>

<pre>    select *
    from Timetable
    where arrival_time between &#39;18:32&#39; and &#39;20:59&#39;</pre>

<p>&#21487;&#20197;&#20351;&#29992;&#36890;&#37197;&#31526; <code>*</code> &#26469;&#34920;&#31034;&#27809;&#26377;&#19978;&#38480;&#25110;&#19979;&#38480;&#65292;&#20363;&#22914;&#65306;</p>

<pre>    GET /=/model/Person/height/1.86..~?extended=1</pre>

<p>&#34920;&#31034;&#36873;&#21462;&#36523;&#39640;&#22312; 1.86 &#20197;&#19978;&#30340; Persion&#65292;&#30456;&#24403;&#20110;&#19979;&#38754;&#36825;&#21477; SQL:</p>

<pre>    select *
    from Person
    where height &#62; 1.86</pre>

<p>&#22914;&#26524;&#35201;&#36873;&#21462;&#36523;&#39640;&#23567;&#20110; 1.65 &#30340;&#20154;&#65292;&#21017;&#21487;&#20197;&#36825;&#20040;&#20889;&#65306;</p>

<pre>    GET /=/model/Person/height/~..1.65?extended=1</pre>
</dd>
</dl>

<p>&#26356;&#39640;&#32423;&#30340;&#26816;&#32034;&#38656;&#27714; (&#27604;&#22914; table join &#21644; group by) &#24212;&#30001; <code>/=/action/Select</code> &#26469;&#23436;&#25104;.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Manipulate_Records"
>Manipulate Records</a></h3>

<dl>
<dt><a name="(25554)(20837)(35760)(24405)"
>&#25554;&#20837;&#35760;&#24405;</a></dt>

<dd>
<pre>    POST /=/model/&#60;model name&#62;/~/~</pre>

<p>&#35813;&#21629;&#20196;&#29992;&#20110;&#21521;&#25351;&#23450;&#27169;&#22411;&#19978;&#20256;&#33509;&#24178;&#26032;&#35760;&#24405;&#12290;&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    POST /=/model/Bookmark/~/~</pre>

<p><i>POST body</i></p>

<pre>    [
        { title: &#34;Yahoo News&#34;, url: &#34;http://news.yahoo.com&#34;, description: &#34;&#32654;&#22269;&#38597;&#34382;&#32593;&#31449;&#34; },
        { title: &#34;Yahoo&#20013;&#22269;&#34;, url: &#34;http://cn.yahoo.com&#34;, description: &#34;&#38463;&#37324;&#24052;&#24052;&#20013;&#22269;&#38597;&#34382;&#39318;&#39029;&#34; },
        { title: &#34;Revision: /trunk&#34;, url: &#34;http://svn.openfoundry.org/xulapp/trunk&#34;, description: &#34;&#25105;&#30340; XUL::App &#39033;&#30446;&#34; }
    ]</pre>

<p><i>Output</i></p>

<pre>    { success: 1, rows_affected: 3, last_row: &#34;/=/model/Bookmark/id/3&#34; }</pre>

<p>&#20855;&#20307;&#30340;&#23454;&#29616;&#20250;&#23545;&#19968;&#27425;&#25554;&#20837;&#30340;&#35760;&#24405;&#25968;&#30446;&#36827;&#34892;&#38480;&#21046;&#12290;</p>

<dt><a name="(20462)(25913)(35760)(24405)"
>&#20462;&#25913;&#35760;&#24405;</a></dt>

<dd>
<pre>    PUT /=/model/&#60;model name&#62;/&#60;column name&#62;/&#60;column value&#62;</pre>

<p>&#20462;&#25913;&#25351;&#23450;&#35760;&#24405;&#30340;&#23383;&#27573;&#20540;&#12290;</p>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    PUT /=/model/Bookmark/url/yahoo?op=contains</pre>

<p><i>POST body</i></p>

<pre>    { title: &#34;My Yahoo Home&#34;, description: &#34;As title&#34; }</pre>

<p>&#23545;&#24212;&#30340;&#20266; SQL &#20026;&#65306;</p>

<pre>    update bookmarks
    set title = &#39;My Yahoo Home&#39;, description = &#39;As title&#39;
    where url like &#39;%yahoo%&#39;</pre>

<p>[&#29468;&#24819;&#65306;PUT &#35831;&#27714;&#20134;&#21487;&#19987;&#29992;&#20110;&#19978;&#20256;&#20108;&#36827;&#21046;&#30340;&#22810;&#23186;&#20307;&#25968;&#25454;&#12290;]</p>

<dt><a name="(21024)(38500)(35760)(24405)"
>&#21024;&#38500;&#35760;&#24405;</a></dt>

<dd>
<p>&#29992;&#20110;&#21024;&#38500;&#25351;&#23450;&#30340;&#35760;&#24405;</p>

<p>&#19968;&#20010;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    DELETE /=/model/Bookmark/url/yahoo?op=contains</pre>

<p>&#23545;&#24212;&#30340;&#20266; SQL &#20026;&#65306;</p>

<pre>    delete from bookmarks
    where url like &#39;%yahoo%&#39;</pre>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Namespace_and_Databases"
>Namespace and Databases</a></h3>

<p>&#27169;&#22411;&#30340;&#21517;&#23383;&#21487;&#20197;&#20889;&#25104;&#21517;&#23383;&#31354;&#38388;&#20462;&#39280;&#30340;&#24418;&#24335;&#65292;&#27604;&#22914; <code>Foo.Bar.Baz</code>. &#20174;&#36923;&#36753;&#19978;&#35762;, <code>Foo</code> &#30456;&#24403;&#20110;&#19968;&#20010;&#25968;&#25454;&#24211;&#65292;&#25110;&#32773;&#35828;&#26159;&#27169;&#22411;&#30340;&#38598;&#21512;&#12290;</p>

<p>[&#29468;&#24819;: &#27169;&#22411;&#26816;&#32034;&#26102;&#24212;&#25552;&#20379;&#21517;&#23383;&#31354;&#38388;&#32423;&#21035;&#19978;&#30340;&#25628;&#32034;&#12290;]</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Actions"
>Actions</a></h2>

<p>&#34;&#21160;&#20316;(Action)&#34;&#26159;&#19968;&#31181;&#25277;&#35937;&#30340;&#21151;&#33021;&#23454;&#20307;&#12290;Action &#22312;&#27010;&#24565;&#19978;&#19982;&#32534;&#31243;&#35821;&#35328;&#20013;&#30340;&#20989;&#25968;&#30456;&#36817;&#12290;</p>

<p>&#27599;&#19968;&#20010; Action &#37117;&#26377;&#19968;&#20010;&#30028;&#38754;&#65292;&#30028;&#38754;&#19968;&#33324;&#30001;&#33509;&#24178;&#20010; parameters &#32452;&#25104;&#12290;&#23601;&#20687;&#27599;&#19968;&#20010; model &#37117;&#30001;&#33509;&#24178;&#20010; columns &#32452;&#25104;&#19968;&#26679;&#12290;</p>

<p>Action &#20134;&#21487;&#20998;&#20026;&#20869;&#24314; Action (&#22914; <code>WebSearch</code> &#21644; <code>Select</code> ) &#21644;&#29992;&#25143;&#33258;&#23450;&#20041; Action &#20004;&#22823;&#31867;.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Create_Actions"
>Create Actions</a></h3>

<p>&#29992;&#25143;&#33258;&#23450;&#20041;&#30340; Action &#22312;&#27010;&#24565;&#19978;&#31867;&#20284;&#20110;&#25968;&#25454;&#24211;&#20013;&#23384;&#20648;&#36807;&#31243;&#65292;&#24182;&#23558;&#36890;&#36807; OpenAPI &#33258;&#24049;&#23450;&#20041;&#30340; minisql &#35821;&#35328;&#20013;&#30340; <code>update</code> &#21644; <code>delete</code> &#35821;&#21477;&#26469;&#34920;&#36798;&#20854;&#21151;&#33021;.</p>

<p>&#31034;&#20363;&#65306;</p>

<pre>    POST /=/action/RemoveBookmarks
    &#34;delete from Bookmark where url like $pattern description like pattern&#34;</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Inspect_Actions"
>Inspect Actions</a></h3>

<pre>    GET /=/action/&#60;action name&#62;</pre>

<p>&#21487;&#33719;&#24471;&#25351;&#23450; action &#30340;&#30028;&#38754;</p>

<p>&#31034;&#20363;&#65306;</p>

<pre>    GET /=/action/RemoveBooks</pre>

<p>&#36755;&#20986;&#20026;&#23427;&#30340; minisql &#23450;&#20041;&#65306;</p>

<pre>    &#34;delete from Bookmark where url like $pattern description like pattern&#34;</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Call_Actions"
>Call Actions</a></h3>

<pre>    GET /=/action/&#60;action name&#62;/&#60;parameter1&#62;/&#60;value1&#62;?&#60;parameter2&#62;=&#60;value2&#62;&#38;&#60;parameter3&#62;=&#60;value3&#62;&#38;...</pre>

<p>&#20197;&#25351;&#23450;&#30340;&#21442;&#25968;&#35843;&#29992; actions. &#31034;&#20363;&#65306;</p>

<pre>    GET /=/action/RemoveBookmarks/pattern/Hello,world
    {&#34;success&#34;:1}</pre>

<p>&#23545;&#20110;&#26080;&#21442;&#25968;&#30340; Action &#35843;&#29992;&#26102;&#20351;&#29992;</p>

<pre>    GET /=/action/&#60;action name&#62;/~/~</pre>

<p>&#30340;&#24418;&#24335;&#12290;</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Remove_Actions"
>Remove Actions</a></h3>

<pre>    DELETE /=/action/&#60;action name&#62;</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Built-in_Actions"
>Built-in Actions</a></h3>

<dl>
<dt><a name="Select"
>Select</a></dt>

<dd>
<p>Select &#25552;&#20379;&#20102;&#29992; minisql &#30340; select &#35821;&#21477;&#23545; Models &#36827;&#34892;&#39640;&#32423;&#26597;&#35810;&#30340;&#26041;&#24335;&#12290;&#19979;&#38754;&#26159;&#19968;&#20010;&#20363;&#23376;&#65306;</p>

<pre>    POST /=/action/Select/lang/minisql
    &#34;select * from Music, Bookmark where Music.url = Bookmark.url&#34;</pre>

<p>minisql &#19982; SQL &#30340;&#35821;&#27861;&#38750;&#24120;&#36817;&#20284;&#65292;&#19981;&#21516;&#30340;&#26159;&#23427;&#26159;&#22823;&#23567;&#20889;&#25935;&#24863;&#30340;&#12290; &#25152;&#26377;&#30340;&#20851;&#38190;&#23383;&#37117;&#24517;&#39035;&#20026;&#23567;&#20889;&#12290;&#22312; minisql &#20013;&#21487;&#20197;&#30452;&#25509;&#24341;&#29992;&#21033;&#29992; <code>/=/model</code> &#25509;&#21475;&#23450;&#20041;&#30340; Model &#21517;&#21644;&#21015;&#21517;.</p>

<dt><a name="WebSearch"
>WebSearch</a></dt>

<dd>
<pre>    GET /=/action/WebSearch
    [
        { name: &#34;query&#34;, type: &#34;string&#34; }
    ]

    GET /=/action/WebSearch/query/Hello,world
    [
        { title: &#34;Hello world program - Wikipedia, the free encyclopedia&#34;, url: &#34;en.wikipedia.org/wiki/Hello_world_program&#34;, summary: &#34;...&#34; },
        { title: &#34;Helloworld.com&#34;, url: &#34;www.helloworld.com/&#34;, summary: &#34;...&#34; },
        { title: &#34;...&#34;, url: &#34;...&#34;, summary: &#34;...&#34; },
        ...
    ]</pre>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Views"
>Views</a></h2>

<p>OpenAPI &#20013;&#30340;&#35270;&#22270; (Views) &#19982;&#25968;&#25454;&#24211;&#20013;&#30340;&#35270;&#22270;&#27604;&#36739;&#36817;&#20284;&#65292;&#20294;&#19981;&#21516;&#30340;&#26159;&#23427;&#26159;&#21487;&#20197;&#24102;&#21442;&#25968;&#30340;&#12290;&#27604;&#22914;&#65306;</p>

<pre>    POST /=/view/MyQuery
    &#34;select * from CComment where name = $name and parent_id = $parent_id&#34;</pre>

<p>&#27492;&#26102;&#20415;&#21019;&#24314;&#20102;&#19968;&#20010;&#21517;&#20026; MyQuery &#30340; OpenAPI &#35270;&#22270;&#23545;&#35937;&#12290; &#35813;&#35270;&#22270;&#36820;&#22238;&#30340;&#32467;&#26524;&#26159;&#30001;&#19968;&#20010;&#24102;&#29305;&#27530;&#21464;&#37327;&#30340; minisql &#35821;&#21477;&#26469;&#25351;&#23450;&#30340;&#12290; &#30001; <code>$</code> &#36215;&#22987;&#30340;&#21464;&#37327;&#37117;&#26159; MyQuery &#36825;&#20010;&#35270;&#22270;&#30340;&#21442;&#25968;&#12290;&#20363;&#22914;&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292; <code>$name</code> &#21644; <code>$parent_id</code> &#37117;&#26159;&#21442;&#25968;&#21464;&#37327;&#12290;</p>

<p>&#20110;&#26159;&#21518;&#38754;&#21487;&#20197;&#36890;&#36807;&#36825;&#26679;&#30340;&#35821;&#27861;&#35843;&#29992; MyQuery:</p>

<pre>    GET /=/view/MyQuery/name/Foo?parent_id=Blah</pre>

<p>&#25110;&#32773;&#31561;&#20215;&#22320;&#65306;</p>

<pre>    GET /=/view/MyQuery/parent_id/Blah?name=Foo</pre>

<p>&#35270;&#22270;&#21442;&#37327;&#21487;&#20197;&#24102;&#32570;&#30465;&#20540;&#65292;&#20363;&#22914;&#65306;</p>

<pre>    POST /=/view/MyQuery
    &#34;select * from CComment where name = $name|&#39;Foo&#39; and parent_id = $parent_id|&#39;Blah&#39;&#34;</pre>

<p>&#36825;&#26679;&#35843;&#29992; MyQuery &#30340;&#26102;&#20505;&#22914;&#26524;&#19981;&#25552;&#20379;&#21442;&#37327;&#65292;&#20063;&#19981;&#20250;&#25253;&#38169;&#65306;</p>

<pre>    GET /=/view/MyQuery/~/~</pre>

<p>&#36825;&#19982;&#21069;&#38754;&#30340;&#20004;&#31181; MyQuery &#35843;&#29992;&#26041;&#24335;&#26159;&#31561;&#25928;&#30340;&#12290;</p>

<p>&#34429;&#28982;&#35270;&#22270;&#23545;&#35937;&#30340;&#21151;&#33021;&#37117;&#21487;&#20197;&#20351;&#29992; <code>Select</code> &#21160;&#20316;&#26469;&#23436;&#25104;&#65292;&#20294;&#23427;&#21364;&#25317;&#26377;&#20197;&#19979;&#20248;&#28857;&#65306;</p>

<ol>
<li>&#26381;&#21153;&#22120;&#21487;&#20197;&#21482;&#22312;&#21019;&#24314;&#35270;&#22270;&#30340;&#26102;&#20505;&#35299;&#26512; minisql &#35821;&#21477;&#19968;&#27425;&#65292;&#32780;&#22312;&#38543;&#21518;&#30340;&#35270;&#22270;&#35843;&#29992;&#20013;&#25552;&#39640;&#22788;&#29702;&#36895;&#24230;&#12290;</li>

<li>&#35270;&#22270;&#35843;&#29992;&#20013;&#20250;&#33258;&#21160;&#23545;&#21442;&#37327;&#36827;&#34892; quote &#22788;&#29702;&#65292;&#32780;&#23458;&#25143;&#26080;&#38656;&#33258;&#24049;&#22312;&#25340; minisql &#20018;&#30340;&#26102;&#20505;&#33258;&#24049;&#21435;&#20570;&#12290;</li>

<li>&#26041;&#20415;&#36890;&#36807; <code>Role</code> &#30340; URL &#35268;&#21017;&#26469;&#38480;&#21046;&#23458;&#25143;&#31471;&#30340;&#26435;&#38480;&#65292;&#20174;&#32780;&#19981;&#24517;&#30452;&#25509;&#23558; minisql &#30028;&#38754; &#65288;&#21363; <code>/=/action/Select/lang/minisql</code> ) &#26292;&#38706;&#32473;&#23458;&#25143;&#31471;&#12290;</li>
</ol>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Roles"
>Roles</a></h2>

<p>OpenAPI &#36890;&#36807;&#35282;&#33394; (Role) &#26469;&#23454;&#29616;&#23376;&#29992;&#25143;&#21644;&#26435;&#38480;&#20998;&#37197;&#21151;&#33021;&#12290; &#19968;&#20010; OpenAPI &#27880;&#20876;&#29992;&#25143;&#21487;&#20197;&#25317;&#26377;&#22810;&#20010;&#35282;&#33394;&#65292;&#22905;&#21487;&#20197;&#36890;&#36807; /=/role &#36825;&#20010; URL &#23545;&#22905;&#30340;&#35282;&#33394;&#36827;&#34892;&#31649;&#29702;&#65292;&#20854;&#20013;&#21253;&#25324;&#28155;&#21152;&#21644;&#21024;&#38500;&#35282;&#33394;&#65292;&#23545;&#35282;&#33394;&#26435;&#38480;&#36827;&#34892;&#20998;&#37197;&#65292; &#25351;&#23450;&#35282;&#33394;&#30340;&#30331;&#24405;&#26041;&#24335;&#65288;&#26159;&#36890;&#36807;&#21475;&#20196;&#65292;&#39564;&#35777;&#30721;&#22270;&#29255;&#65292;&#36824;&#26159;&#21311;&#21517;&#65289;&#12290;</p>

<p>&#22312; OpenAPI &#20013;&#65292;&#35282;&#33394;&#23545;&#35937;&#26159;&#19968;&#31181;&#29305;&#27530;&#30340; Model&#65292;/=/role &#19982; /=/model &#22312;&#25509;&#21475;&#19978;&#26377;&#35768;&#22810;&#30456;&#20284;&#20043;&#22788;&#12290;</p>

<p>&#27599;&#19968;&#20010;&#35282;&#33394;&#23454;&#20307;&#37117;&#34987;&#35270;&#20026;&#19968;&#20010;&#35268;&#21017; Model. &#25152;&#26377; Model &#30340;&#26597;&#35810;&#65292;&#20462;&#25913;&#65292; &#21644;&#21024;&#38500;&#25805;&#20316;&#37117;&#21516;&#26679;&#36866;&#29992;&#20110; Role.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="(33719)(21462)(35282)(33394)(21015)(34920)"
>&#33719;&#21462;&#35282;&#33394;&#21015;&#34920;</a></h3>

<pre>    GET /=/role</pre>

<p>&#26381;&#21153;&#22120;&#36820;&#22238;&#30340;&#26159;&#19968;&#20010;&#35282;&#33394;&#21015;&#34920;&#12290;&#27599;&#19968;&#20010;&#39033;&#30446;&#25551;&#36848;&#20102;&#23545;&#24212;&#35282;&#33394;&#30340;&#21517;&#31216;&#65292;&#25551;&#36848;&#65292;&#21644; URL&#12290; &#20363;&#22914;&#65306;</p>

<pre>  [
    { name: &#34;Admin&#34;, description: &#34;&#31649;&#29702;&#21592;&#34;, src: &#34;/=/role/Admin&#34; },
    { name: &#34;User&#34;, description: &#34;&#26222;&#36890;&#29992;&#25143;&#34;, src: &#34;/=/role/User&#34; },
    { name: &#34;Anonymous&#34;, description: &#34;&#21311;&#21517;&#29992;&#25143;&#34;, src: &#34;/=/role/Anonymous&#34; },
    { name: &#34;Commenter&#34;, description: &#34;&#35780;&#35770;&#29992;&#25143;&#34;, src: &#34;/=/role/Commenter&#34; }
  ]</pre>

<p>&#20854;&#20013; Admin, User, &#21644; Anonymous &#36825;&#19977;&#20010;&#35282;&#33394;&#26159; OpenAPI &#29992;&#25143;&#22312;&#27880;&#20876;&#26102; &#33258;&#21160;&#20998;&#37197;&#30340;&#65292;&#32780;&#19988;&#19981;&#33021;&#21024;&#38500;&#12290;&#29992;&#25143;&#30452;&#25509;&#20351;&#29992;&#29992;&#25143;&#21517;&#65292;&#27604;&#22914; marry &#30331;&#24405;&#26102;&#65292; &#30456;&#24403;&#20110;&#20351;&#29992; marry.User &#24080;&#25143;&#26469;&#30331;&#24405;&#12290;&#26412;&#25991;&#26723;&#20013;&#34920;&#30340;&#21024;&#38500;&#21644;&#20462;&#25913;&#25805;&#20316;&#37117;&#38656;&#35201;&#20197; Admin &#35282;&#33394;&#30340;&#26435;&#38480;&#12290;User &#40664;&#35748;&#26159;&#27809;&#20855;&#26377;&#36825;&#20123;&#26435;&#38480;&#30340;&#12290;</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="(33719)(21462)(35282)(33394)(20449)(24687)"
>&#33719;&#21462;&#35282;&#33394;&#20449;&#24687;</a></h3>

<pre>    GET /=/role/&#60;role name&#62;</pre>

<p>&#36820;&#22238;&#19968;&#20010;&#21704;&#24076;&#32467;&#26500;&#65292;&#20854;&#20013;&#21253;&#25324;&#35282;&#33394;&#21517;&#65292;&#35282;&#33394;&#25551;&#36848;&#65292;&#29238;&#20146;&#35282;&#33394;&#65292;&#30331;&#24405;&#26041;&#24335;&#65292;&#31561;&#31561;&#23383;&#27573;&#12290; &#19968;&#20010;&#20856;&#22411;&#30340;&#20363;&#23376;&#26159;&#65306;</p>

<pre>    GET /=/role/Admin
    {
        name: &#34;Admin&#34;,
        description: &#34;&#31649;&#29702;&#21592;&#34;,
        inherits: &#34;User&#34;,
        columns: [
            { name: &#34;method&#34;, label: &#34;HTTP&#26041;&#27861;&#34;},
            { name: &#34;resource&#34;, lable: &#34;&#36164;&#28304;&#21517;&#34; }
        ]
    }</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="(35835)(21462)(26435)(38480)(35268)(21017)"
>&#35835;&#21462;&#26435;&#38480;&#35268;&#21017;</a></h3>

<pre>    GET /=/role/&#60;role name&#62;/&#60;column&#62;/&#60;value&#62;</pre>

<p><code>&#60;column&#62;</code> &#21644; <code>&#60;value&#62;</code> &#30340;&#21547;&#20041;&#19982; Model &#30340; URL &#35760;&#27861;&#20013;&#30340;&#19968;&#33268;&#12290;</p>

<p>&#20363;&#22914;&#24403;&#20108;&#32773;&#21516;&#26102;&#20026; <code>~</code> &#26102;&#36820;&#22238;&#25152;&#26377;&#30340;&#26435;&#38480;&#35268;&#21017;&#65306;</p>

<pre>    GET /=/role/Commenter/~/~
    [
        { method: &#34;POST&#34;, resource: &#34;/=/model/Comment/~/~&#34; }
    ]</pre>

<p>&#26435;&#38480;&#35268;&#21017;&#24635;&#26159;&#30001;&#20004;&#20010;&#23646;&#24615;&#26500;&#25104;&#65292;&#19968;&#26159; <code>method</code>&#65292;&#29992;&#20110;&#25351;&#23450;&#20801;&#35768;&#30340; HTTP &#26041;&#27861;&#12290; &#19968;&#26159; <code>resource</code>&#65292;&#29992;&#20110;&#25351;&#23450;&#20801;&#35768;&#25805;&#32437;&#30340;&#36164;&#28304;&#65288;&#25110; URI&#65289;&#12290;</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="(28155)(21152)(26435)(38480)(35268)(21017)"
>&#28155;&#21152;&#26435;&#38480;&#35268;&#21017;</a></h3>

<pre>    POST /=/role/&#60;role name&#62;/~/~
    [ rule1, rule2, ... ]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Administration"
>Administration</a></h2>

<pre>    GET/POST/DELETE /=/admin/...</pre>

<p>XXX needs work...</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="URL_Parameters"
>URL Parameters</a></h2>

<dl>
<dt><a name="charset"
>charset</a></dt>

<dd>
<p>&#25351;&#23450;&#36755;&#20837;&#65295;&#36755;&#20986;&#25968;&#25454;&#21644; URL &#26412;&#36523;&#25152;&#20351;&#29992;&#30340;&#23383;&#31526;&#38598;&#12290;</p>

<p>&#31034;&#20363;&#65306;</p>

<pre>    GET /=/model/Bookmark/title/Yahoo?charset=GBK</pre>

<dt><a name="offset"
>offset</a></dt>

<dd>
<p>&#35813;&#36873;&#39033;&#20165;&#20316;&#29992;&#20110; GET &#35831;&#27714;&#36820;&#22238;&#21015;&#34920;&#30340;&#24773;&#24418;&#12290;&#23427;&#29992;&#20110;&#25351;&#23450;&#22312;&#36820;&#22238;&#30340;&#21015;&#34920;&#20013;&#36339;&#36807;&#36215;&#22987;&#30340;&#35760;&#24405;&#30340;&#25968;&#30446;&#12290;&#20363;&#22914;</p>

<pre>    GET /=/model/Foo/~/~?offset=10</pre>

<p>&#23558;&#36820;&#22238;&#31532;&#21313;&#19968;&#26465;&#21450;&#20854;&#20197;&#21518;&#30340;&#35760;&#24405;&#21015;&#34920;&#12290;<code>offset</code> &#22810;&#19982; <code>count</code> &#36873;&#39033;&#19968;&#36215;&#20351;&#29992;&#65292;&#20197;&#23454;&#29616;&#20998;&#39029;&#21151;&#33021;&#12290;</p>

<dt><a name="limit"
>limit
<dt><a name="count"
>count</a></dt>

<dd>
<p>&#35813;&#36873;&#39033;&#20165;&#20316;&#29992;&#20110; GET &#35831;&#27714;&#36820;&#22238;&#21015;&#34920;&#30340;&#24773;&#24418;&#12290;&#23427;&#29992;&#20110;&#25351;&#23450;&#36820;&#22238;&#30340;&#26465;&#30446;&#25968;&#65292;&#32570;&#30465;&#20026; 500&#12290;&#26368;&#22823;&#20540;&#20134;&#20026; 500&#12290;</p>

<p>&#31034;&#20363;&#65306;</p>

<pre>   GET /=/model/Postbook/body/People?count=20</pre>

<p>count &#30340;&#21462;&#20540;&#39035;&#20026;&#23567;&#20110;&#19978;&#38480;&#30340;&#27491;&#25972;&#25968;&#65292;&#21542;&#21017;&#26381;&#21153;&#22120;&#23558;&#25253;&#38169;&#12290;</p>

<p><code>limit</code> &#21442;&#25968;&#20026; <code>count</code> &#30340;&#19968;&#20010;&#21035;&#21517;&#12290;</p>

<dt><a name="order_by"
>order_by</a></dt>

<dd>
<p>&#25351;&#23450;&#25490;&#24207;&#39033;&#65288;&#21487;&#25351;&#23450;&#22810;&#20010;&#65292;&#20197;&#36887;&#21495;&#20998;&#38548;). &#20363;&#22914;&#65306;</p>

<pre>    GET /=/model/Bookmark/title/Yahoo?op=contains&#38;order_by=title:asc,url:desc</pre>

<p>&#22312;&#35821;&#20041;&#19978;&#36817;&#20284;&#20110;&#19979;&#38754;&#36825;&#26465; SQL &#35821;&#21477;&#65306;</p>

<pre>    select *
    from bookmarks
    where title like &#39;%Yahoo%&#39;
    order by title asc , url desc</pre>

<p>&#21319;&#38477;&#24207;&#30340;&#32570;&#30465;&#26159; SQL &#26631;&#20934;&#30340;&#32570;&#30465;&#65306;ASC&#12290;&#24403;&#23383;&#27573;&#20013;&#26080;&#20882;&#21495;&#20998;&#38548;&#30340;&#21319;&#38477;&#24207;&#22768;&#26126;&#30340;&#26102;&#20505;&#65292;&#23601;&#26159;&#21319;&#24207;&#12290;</p>

<dt><a name="var"
>var</a></dt>

<dd>
<p>&#35813;&#36873;&#39033;&#20165;&#36866;&#29992;&#20110; JSON &#26684;&#24335;&#65292;&#29992;&#20110;&#29983;&#25104;&#19968;&#20010; JS &#21464;&#37327;&#36171;&#20540;&#35821;&#21477;&#12290;&#20363;&#22914;&#65306;</p>

<pre>    GET /=/model.json?var=foo</pre>

<p>&#26381;&#21153;&#22120;&#23558;&#36820;&#22238;&#31867;&#20284;&#19979;&#38754;&#30340;&#25968;&#25454;&#65306;</p>

<pre>    var foo=...;</pre>

<p>&#36825;&#37324;&#30340; <code>...</code> &#26159;&#27809;&#26377;&#25351;&#23450; <code>var</code> &#36873;&#39033;&#26102;&#26381;&#21153;&#22120;&#36820;&#22238;&#30340;&#20869;&#23481;&#12290;</p>

<dt><a name="data"
>data</a></dt>

<dd>
<p>&#35813;&#36873;&#39033;&#29992;&#20110; POST &#21644; PUT &#26041;&#27861;&#30340; GET &#21464;&#24418;&#25509;&#21475;&#65292;&#20363;&#22914;</p>

<pre>    POST /=/model
    &#60;content&#62;</pre>

<p>&#21487;&#20197;&#20351;&#29992;</p>

<pre>    GET /=/post/model?data=&#60;content&#62;</pre>

<p>&#26469;&#20195;&#26367;&#65288;&#22914;&#26524; &#60;content&#62; &#21547;&#26377; URL &#29305;&#27530;&#23383;&#31526;&#65292;&#38656;&#35201;&#36827;&#34892; URL &#32534;&#30721;&#65289;&#12290;</p>

<p>&#20877;&#27604;&#22914;&#19979;&#38754;&#36825;&#20010; PUT &#35831;&#27714;</p>

<pre>    PUT /=/model/Foo
    &#60;content&#62;</pre>

<p>&#25913;&#29992; GET &#23601;&#26159;</p>

<pre>    GET /=/put/model/Foo?data=&#60;content&#62;</pre>

<dt><a name="user"
>user</a></dt>

<dd>
<p>&#35813;&#36873;&#39033;&#25351;&#23450;&#29992;&#25143;&#21517;</p>

<dt><a name="password"
>password</a></dt>

<dd>
<p>&#35813;&#36873;&#39033;&#25351;&#23450;&#23494;&#30721;</p>

<p>&#31034;&#20363;</p>

<pre>    GET /=/model/Bookmark/id.xml?user=foo&#38;password=bar</pre>

<p>&#27880;&#65306;&#20197;&#26126;&#25991;&#26041;&#24335;&#20256;&#36882;&#29992;&#25143;&#21517;&#21644;&#23494;&#30721;&#22312;&#23433;&#20840;&#24615;&#36739;&#39640;&#30340;&#22330;&#21512;&#26159;&#19981;&#20801;&#35768;&#20351;&#29992;&#30340;&#12290;</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DATA_FORMAT"
>DATA FORMAT</a></h1>

<p>&#26381;&#21153;&#22120;&#36820;&#22238;&#30340;&#25968;&#25454;&#26684;&#24335;&#21487;&#20197;&#30001;&#29992;&#25143;&#36890;&#36807; URL &#21518;&#32512;&#26469;&#25511;&#21046;&#12290;</p>

<p>&#25903;&#25345;&#30340;&#26684;&#24335;&#21518;&#32512;&#20026; <code>.json</code>, <code>.xml</code>, &#21644; <code>.yaml</code>. &#23427;&#20204;&#20998;&#21035;&#23545;&#24212; JSON &#26684;&#24335;&#65292;XML/RDF &#26684;&#24335;&#65292;&#21644; YAML &#26684;&#24335;&#12290; &#23427;&#20204;&#30340;&#21035;&#21517;&#20026; <code>.js</code>, <code>.rdf</code>, &#21644; <code>.yml</code>.</p>

<p>&#24403;&#21518;&#32512;&#21517;&#26410;&#25351;&#23450;&#26102;&#65292;&#32570;&#30465;&#20026; <code>.json</code>&#12290;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Content_type"
>Content type</a></h1>

<p>HTTP &#21709;&#24212;&#30340;&#22836;&#37096;&#20013;&#30340; Content-Type &#24635;&#26159; <code>text/plain</code>.</p>

<p>HTTP &#35831;&#27714;&#22836;&#37096;&#20013;&#30340; Content-Type &#25512;&#33616;&#26159; <code>text/plain</code>. &#22914;&#26524; PUT &#21644; POST &#35831;&#27714;&#30340; <code>Content-Type</code> &#34987;&#35774;&#20026; <code>application/x-www-form-urlencoded</code>, &#21017; content &#37096;&#20998;&#24212;&#35813;&#20889;&#20316;</p>

<pre>    data=&#60;content&#62;</pre>

<p>XXX specify what happens when it is &#34;multipart/form-data&#34;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ERROR_HANDLING"
>ERROR HANDLING</a></h1>

<p>&#24403;&#25805;&#20316;&#25104;&#21151;&#26102;&#65292;&#26381;&#21153;&#22120;&#36820;&#22238;&#30340;&#25968;&#25454;&#22914;&#26524;&#29992; JSON &#26684;&#24335;&#34920;&#36798;&#65292;&#19968;&#33324;&#20026;</p>

<pre>    {&#34;success&#34;:1}</pre>

<p>&#22914;&#26524;&#25805;&#20316;&#34429;&#28982;&#25104;&#21151;&#65292;&#20294;&#26377;&#35686;&#21578;&#30340;&#22330;&#21512;&#65292;&#20250;&#26159;&#65306;</p>

<pre>    {&#34;success&#34;:1,&#34;warning&#34;:&#34;Some warning goes here...&#34;}</pre>

<p>&#23545;&#20110;&#25554;&#20837; Model &#35760;&#24405;&#30340;&#25805;&#20316;&#65292;&#26381;&#21153;&#22120;&#20250;&#36820;&#22238;&#19968;&#20123;&#39069;&#22806;&#30340;&#23383;&#27573;&#65292;&#27604;&#22914;&#65306;</p>

<pre>    {&#34;success&#34;:1,&#34;rows_affected&#34;:5,&#34;last_row&#34;:&#34;/=/model/Foo/id/3&#34;}</pre>

<p>&#22914;&#26524;&#25805;&#20316;&#22833;&#36133;&#65292;&#21017;&#26159;&#19979;&#38754;&#36825;&#20010;&#26679;&#23376;&#65306;</p>

<pre>    {&#34;success&#34;:0,&#34;error&#34;:&#34;Error message goes here...&#34;}</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="GRAMMAR_FOR_minisql"
>GRAMMAR FOR minisql</a></h1>

<p>minisql &#35821;&#35328;&#26159;&#26631;&#20934; SQL &#19968;&#20010;&#26680;&#24515;&#23376;&#38598;. &#20854;&#22522;&#26412;&#35821;&#27861;&#22914;&#19979;&#65306;</p>

<pre>    minisql: statement

    statement: select_stmt
             | update_stmt
             | delete_stmt

    select_stmt: &#34;select&#34; pattern_list &#34;from&#34; models postfix_clause_list
               | &#34;select&#34; pattern_list &#34;from&#34; models

    pattern_list: pattern &#34;,&#34; pattern_list
                | pattern

    pattern: aggregate alias
           | aggregate
           | column

    aggregate: func &#34;(&#34; column &#34;)&#34;
    func: &#34;max&#34;
        | &#34;min&#34;
        | &#34;count&#34;
        | &#34;sum&#34;

    column: qualified_symbol
          | symbol
    qualified_symbol: symbol &#34;.&#34; symbol
    symbol: /[A-Za-z]+/

    alias: symbol

    postfix_clause_list: postfix_clause postfix_clause_list
                       | postfix_clause

    postfix_clause: where_clause
                  | group_by_clause
                  | order_by_clause

    where_clause: &#34;where&#34; condition

    condition: disjunction
    disjunction: conjunction &#34;or&#34; disjuntion
               | conjunction
    conjunction: comparison &#34;and&#34; conjunction
               | comparison
    comparison: column operator literal
              | column operator column
              | &#34;(&#34; condition &#34;)&#34;

    operator: &#34;&#62;&#34;
            | &#34;&#62;=&#34;
            | &#34;&#60;&#34;
            | &#34;&#60;=&#34;
            | &#34;&#60;&#62;&#34;
            | &#34;=&#34;
            | &#34;like&#34;

    literal: string
           | integer
    string: &#39;&#34;&#39; symbol &#39;&#34;&#39;
          | &#34;&#39;&#34; symbol &#34;&#39;&#34;
    integer: /\d+/

    group_by_clause: &#34;group by&#34; column_list

    column_list: column &#34;,&#34; column_list
               | column

    order_by_clause: &#34;order by&#34; column_list

    delete_stmt: &#34;delete&#34; &#34;from&#34; symbol where_clause
    update_stmt: &#34;update&#34; symbol set_clause where_clause
               | &#34;update&#34; symbol set_clause

    set_clause: &#34;set&#34; symbol &#34;=&#34; literal</pre>

<!-- end doc -->

</body></html>
